(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(32)},,,,,,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),o=(a(16),a(1)),u=a.n(o),l=a(2),i=a(3),p=a(4),d=a(6),m=a(5),h=a(7),g=(a(20),a(22),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchEntry:"",totalProducts:0,products:[],notFound:!1},a.handleSubmit=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.searchProducts();case 3:a.props.stateUpdate(a.state),a.props.numberOfPages(),a.clearSearchInput();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState({searchEntry:e.target.value})},a.searchProducts=function(){var e=a.state.searchEntry.toLowerCase().trim().split(" ").filter(function(e){return e.length>0});e=e.filter(function(e){return"de"!==e&&"com"!==e});var t=a.props.productsDb.filter(function(t){return e.every(function(e){return t.keywords.search(e)>=0})?t.keywords.indexOf(e[0]>=0):null});0!==t.length?a.setState({totalProducts:t.length,products:t,notFound:!1,currentPage:1}):a.setState({notFound:!0})},a.clearSearchInput=function(){a.setState({searchEntry:"",totalProducts:0,products:[],notFound:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu d-flex j-end al-center"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"d-flex j-center al-center"},r.a.createElement("i",{className:"fas fa-search"}),r.a.createElement("input",{onChange:this.handleChange,id:"search",type:"text",placeholder:"O que voc\xea est\xe1 procurando?",value:this.state.searchEntry}),r.a.createElement("button",{id:"btn-search"},r.a.createElement("i",{className:"fas fa-times"}))))}}]),t}(n.Component)),f=(a(24),function(e){return r.a.createElement("div",{className:"product-container",key:e.product._id},r.a.createElement("div",{className:"d-flex j-between"},r.a.createElement("div",{className:"d-flex j-start w-80"},r.a.createElement("div",{className:"img-container d-flex j-around"},r.a.createElement("img",{src:"https://ammotest-products-api.herokuapp.com/".concat(e.product.productImages.img0),alt:""}),r.a.createElement("img",{src:"https://ammotest-products-api.herokuapp.com/".concat(e.product.productImages.img1),alt:""}),r.a.createElement("img",{src:"https://ammotest-products-api.herokuapp.com/".concat(e.product.productImages.img2),alt:""}),r.a.createElement("img",{src:"https://ammotest-products-api.herokuapp.com/".concat(e.product.productImages.img3),alt:""})),r.a.createElement("div",{className:"product-title d-flex fd-column j-center"},r.a.createElement("h4",null,e.product.name||e.product.item),r.a.createElement("p",{className:"product-line"},"Linha: ",e.product.productLine))),r.a.createElement("div",{className:"d-flex al-center w-20"},r.a.createElement("div",{className:"d-flex j-end price-container w-100"},r.a.createElement("p",{className:"old-price"},r.a.createElement("span",null,"R$",e.product.originalPrice)," por"),r.a.createElement("p",{className:"new-price"},"R$",e.product.newestPrice)))))}),b=(a(26),function(e){var t=[],a=[];!1===e.products.notFound&&0===e.products.totalFound?t=e.products.productsDb:0!==e.products.totalFound&&(t=e.products.productsFound),t.map(function(t,n){return n>=0+e.products.firstItemOnPage()&&n<e.products.productsPerPage+e.products.firstItemOnPage()?a.push(t):null});var n=r.a.createElement("div",{className:"d-flex fd-column j-center"},r.a.createElement("p",null,"Carregando produtos")),s=r.a.createElement("section",null,r.a.createElement("div",{className:"title-container"},0===e.products.searchEntry.length?r.a.createElement("h1",{id:"page-title"},"Lista de produtos"):r.a.createElement("h1",{id:"page-title"},e.products.searchEntry)),r.a.createElement("div",{className:"d-flex fd-column j-center"},r.a.createElement("div",{className:"content-container"},0!==e.products.searchEntry.length?r.a.createElement("div",{className:"numb-container d-flex"},r.a.createElement("p",{className:"numb-products"},t.length," produtos encontrados")):null,r.a.createElement("div",{className:"products-container"},0!==a.length?a.map(function(e){return r.a.createElement(f,{key:e._id,product:e})}):null))));return r.a.createElement("main",null,0===e.products.totalProducts?n:s)}),P=(a(28),function(e){return r.a.createElement("div",{className:"products-per-page"},r.a.createElement("select",{onChange:e.onChange,id:"items-per-page"},r.a.createElement("option",{id:"first-opt",value:"6",defaultValue:"selected"},"6 produtos por p\xe1gina"),r.a.createElement("option",{id:"second-opt",value:"12"},"12 produtos por p\xe1gina"),r.a.createElement("option",{id:"third-opt",value:"24"},"24 produtos por p\xe1gina")))}),E=(a(30),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:a.props.products.currentPage,prevButtonsClasses:"page disable-button",nextButtonsClasses:"page",onePageScenario:"page disable-button"},a.goToFirstPage=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.updateState(1),e.next=3,a.props.onChange(1);case 3:a.checkDisableButtons();case 4:case"end":return e.stop()}},e,this)})),a.goToLastPage=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.updateState(a.props.products.numberOfPages),e.next=3,a.props.onChange(a.props.products.numberOfPages);case 3:a.checkDisableButtons();case 4:case"end":return e.stop()}},e,this)})),a.goToNextPage=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.updateState(a.state.currentPage+1),e.next=3,a.props.onChange(a.state.currentPage+1);case 3:a.checkDisableButtons();case 4:case"end":return e.stop()}},e,this)})),a.goToPreviousPage=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.updateState(a.state.currentPage-1),e.next=3,a.props.onChange(a.state.currentPage-1);case 3:a.checkDisableButtons();case 4:case"end":return e.stop()}},e,this)})),a.updateState=function(e){a.setState({currentPage:e})},a.checkDisableButtons=function(){a.props.products.currentPage===a.props.products.numberOfPages?a.setState({prevButtonsClasses:"page",nextButtonsClasses:"page disable-button"}):1===a.props.products.currentPage?a.setState({prevButtonsClasses:"page disable-button",nextButtonsClasses:"page"}):a.setState({prevButtonsClasses:"page",nextButtonsClasses:"page"})},a.handleClick=function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({currentPage:Number(t.target.innerText)}),n=Number(t.target.innerText),e.next=4,a.props.onChange(n);case 4:a.checkDisableButtons();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){for(var e,t=this,a=this.props.products.numberOfPages,n=this.props.products.currentPage,s=[],c=1;c<=this.props.products.numberOfPages;c++)s.push(c);n<3&&(e=s.filter(function(e){return e<=3})),n>=3&&n!==a&&(e=s.filter(function(e){return e>=n-1&&e<=n+1})),n===a&&(e=s.filter(function(e){return e>=n-2&&e<=n}));var o=e.map(function(e){return r.a.createElement("li",{key:"page-".concat(e)},r.a.createElement("button",{className:n===e?"page active-btn":"page",onClick:t.handleClick},e))});return r.a.createElement("div",{className:"pages-container"},r.a.createElement("ul",{className:"d-flex j-between"},r.a.createElement("button",{className:1===a?this.state.onePageScenario:this.state.prevButtonsClasses,onClick:this.goToFirstPage},r.a.createElement("i",{className:"fas fa-angle-double-left"})),r.a.createElement("button",{className:1===a?this.state.onePageScenario:this.state.prevButtonsClasses,onClick:this.goToPreviousPage},r.a.createElement("i",{className:"fas fa-angle-left"})),o,r.a.createElement("button",{className:1===a?this.state.onePageScenario:this.state.nextButtonsClasses,onClick:this.goToNextPage},r.a.createElement("i",{className:"fas fa-angle-right"})),r.a.createElement("button",{className:1===a?this.state.onePageScenario:this.state.nextButtonsClasses,onClick:this.goToLastPage},r.a.createElement("i",{className:"fas fa-angle-double-right"}))))}}]),t}(n.Component)),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={totalProducts:0,productsDb:[],searchEntry:"",notFound:!1,totalFound:0,productsFound:[],productsPerPage:6,numberOfPages:0,currentPage:1,firstItemOnPage:function(){return this.productsPerPage*(this.currentPage-1)}},a.componentDidMount=function(){fetch("https://ammotest-products-api.herokuapp.com/products").then(function(e){return e.json()}).then(function(e){a.setState({totalProducts:e.products.length,productsDb:e.products,numberOfPages:Math.ceil(e.products.length/a.state.productsPerPage)})})},a.searchResult=function(e){a.setState({searchEntry:e.searchEntry,notFound:e.notFound,totalFound:e.totalProducts,productsFound:e.products,currentPage:1})},a.itemsPerPage=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({productsPerPage:Number(t.target.value),currentPage:1});case 2:a.numberOfPages();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.numberOfPages=function(){var e=0;e=a.state.totalFound>0?Math.ceil(a.state.totalFound/a.state.productsPerPage):a.state.notFound?0:Math.ceil(a.state.totalProducts/a.state.productsPerPage),a.setState({numberOfPages:e})},a.pageChange=function(e){a.setState({currentPage:e})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("nav",{className:"d-flex j-between al-center"},r.a.createElement("div",{className:"logo"},"mmartan"),r.a.createElement(g,{stateUpdate:this.searchResult,productsDb:this.state.productsDb,numberOfPages:this.numberOfPages}))),r.a.createElement("main",null,r.a.createElement(b,{products:this.state}),r.a.createElement("div",{className:"d-flex fd-column j-center"},this.state.notFound?null:r.a.createElement("div",{className:"pagination-container d-flex fd-row j-between al-baseline"},r.a.createElement(P,{onChange:this.itemsPerPage}),r.a.createElement(E,{onChange:this.pageChange,products:this.state})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.4306d9de.chunk.js.map